(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{10:function(e,t,a){e.exports=a(21)},15:function(e,t,a){},17:function(e,t,a){},19:function(e,t,a){},21:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),o=a(8),i=a.n(o),c=a(9),r=a(2),l=a(3),d=a(5),p=a(4),u=a(6),h=a(1),m=(a(15),a(17),function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).state={todos:[],completed:a.props.completed},a.checkItem=a.checkItem.bind(Object(h.a)(Object(h.a)(a))),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"checkItem",value:function(e){var t=this;console.log("checking item");var a=this.props.id;if(this.state.completed)var n={completed:!1};else n={completed:!0};var s=new XMLHttpRequest;s.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var e=JSON.parse(this.responseText);console.log(e.completed),t.setState({completed:e.completed})}},s.open("PUT","https://cse204.work/todos/"+a,!0),s.setRequestHeader("Content-type","application/json"),s.setRequestHeader("x-api-key","7bb18b-b475a9-ca1a2f-812109-55f3c2"),s.send(JSON.stringify(n)),console.log("checked")}},{key:"render",value:function(){var e;return e=this.state.completed?"list-group-item list-group-item-action active":"list-group-item list-group-item-action",s.a.createElement("li",{className:e,onClick:this.checkItem,id:this.props.id},this.props.text,s.a.createElement("div",{className:"removeButton",id:this.props.id},s.a.createElement("i",{className:"fa fa-trash",onClick:this.props.onClick,id:this.props.id})))}}]),t}(n.Component)),f=(a(19),function(e){function t(){return Object(r.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(u.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return s.a.createElement("div",{className:"row"},s.a.createElement("input",{type:"text",id:"add-item",placeholder:"Add To-do",value:this.props.input,onChange:this.props.onChange,onKeyDown:this.props.onKeyDown}),s.a.createElement("i",{className:"far fa-plus-circle fa-clickable",id:"add-item-button",onClick:this.props.onClick}))}}]),t}(n.Component)),b="7bb18b-b475a9-ca1a2f-812109-55f3c2",y="https://cse204.work/todos",v=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(d.a)(this,Object(p.a)(t).call(this,e))).state={todos:[],input:""},a.handleKeyDown=a.handleKeyDown.bind(Object(h.a)(Object(h.a)(a))),a.addItem=a.addItem.bind(Object(h.a)(Object(h.a)(a))),a.onChange=a.onChange.bind(Object(h.a)(Object(h.a)(a))),a.removeItem=a.removeItem.bind(Object(h.a)(Object(h.a)(a))),a.sortByAlpha=a.sortByAlpha.bind(Object(h.a)(Object(h.a)(a))),a}return Object(u.a)(t,e),Object(l.a)(t,[{key:"onChange",value:function(e){this.setState({input:e.target.value})}},{key:"componentDidMount",value:function(){this.listToDos()}},{key:"sortByAlpha",value:function(){console.log("sorting");var e=this.state.todos;console.log(e[1].text),e=e.sort(function(e,t){return e.text.localeCompare(t.text)}),this.setState({todos:e}),console.log(this.state.todos)}},{key:"handleKeyDown",value:function(e){"Enter"===e.key&&this.addItem()}},{key:"addItem",value:function(){if(null==this.state.input||""===this.state.input)alert("Please type in a ToDo");else{console.log("adding item");var e=this,t={text:this.state.input},a=new XMLHttpRequest,n=this.state.todos;a.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var t=JSON.parse(this.responseText);e.setState({todos:Object(c.a)(n).concat([t])}),e.setState({input:""})}else 4===this.readyState&&console.log(this.responseText)},a.open("POST",y,!0),a.setRequestHeader("Content-type","application/json"),a.setRequestHeader("x-api-key",b),a.send(JSON.stringify(t))}}},{key:"removeItem",value:function(e){console.log("removing"),e.preventDefault();var t=this,a=e.target.id,n=new XMLHttpRequest;n.onreadystatechange=function(){if(4===this.readyState&&200===this.status){var e=t.state.todos.filter(function(e){if(e.id!==a)return e});t.setState({todos:e})}},n.open("DELETE",y+"/"+a,!0),n.setRequestHeader("x-api-key",b),n.send(),console.log("deleted")}},{key:"render",value:function(){var e=this;return console.log(this.state),s.a.createElement("div",{className:"App"},s.a.createElement("div",{className:"container-fluid"},s.a.createElement("div",{className:"row"},s.a.createElement("div",{className:"title"},"To-Do List"),s.a.createElement("div",{className:"sort",onClick:this.sortByAlpha},"Sort by  Alphabetical Order")),s.a.createElement(f,{input:this.state.input,onChange:this.onChange,onKeyDown:this.handleKeyDown,onClick:this.addItem}),s.a.createElement("ul",{className:"list-group",id:"ul"},this.state.todos.map(function(t){return s.a.createElement(m,{key:t.id,id:t.id,text:t.text,completed:t.completed,created:t.created_at,onClick:e.removeItem})}))))}},{key:"listToDos",value:function(){var e=new XMLHttpRequest,t=[];e.onreadystatechange=function(){4===this.readyState&&200===this.status&&(t=JSON.parse(this.responseText),console.log(t))},e.open("GET",y,!1),e.setRequestHeader("x-api-key",b),e.send(),this.setState({todos:t})}}]),t}(n.Component);i.a.render(s.a.createElement(v,null),document.getElementById("root"))}},[[10,2,1]]]);
//# sourceMappingURL=main.36784c15.chunk.js.map