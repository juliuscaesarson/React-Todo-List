{"version":3,"sources":["Todo.js","NewTodo.js","App.js","index.js"],"names":["Todo","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","todos","completed","checkItem","bind","assertThisInitialized","e","deez","console","log","api_id","id","data","xhttp","XMLHttpRequest","onreadystatechange","readyState","status","todo","JSON","parse","responseText","setState","open","api","setRequestHeader","send","stringify","checked","react_default","a","createElement","className","onClick","text","Component","NewTodo","type","placeholder","value","input","onChange","onKeyDown","apiKey","App","handleKeyDown","addItem","removeItem","sortByAlpha","event","target","listToDos","sort","b","localeCompare","key","alert","toConsumableArray","concat","preventDefault","leftovers","filter","_this2","src_NewTodo_0","map","src_Todo_0","created","created_at","ReactDOM","render","src_App_0","document","getElementById"],"mappings":"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","file":"static/js/main.e828aa72.chunk.js","sourcesContent":["import React, { Component } from 'react';\nimport './Todo.css';\n\nvar apiKey = \"7bb18b-b475a9-ca1a2f-812109-55f3c2\";\nvar api = \"https://cse204.work/todos\";\n\nclass Todo extends Component {\n  constructor(props){\n    super(props);\n    this.state = {todos:[],completed:this.props.completed};\n    this.checkItem = this.checkItem.bind(this);\n\n  }\n\n  checkItem(e) {\n    var deez = this;\n    console.log(\"checking item\");\n    var api_id = this.props.id;\n    var checked = this.state.completed;\n    \n    if (checked) {\n      var data = {completed:false}\n    }\n    else {\n      // eslint-disable-next-line\n      var data = {completed:true}\n    }\n\n    var xhttp = new XMLHttpRequest();\n\n    xhttp.onreadystatechange = function () {\n        if (this.readyState === 4 && this.status === 200) {\n          var todo = JSON.parse(this.responseText);\n          console.log(todo.completed);\n          deez.setState({completed:todo.completed});\n        }\n    \n    };\n\n    xhttp.open(\"PUT\",api + \"/\" + api_id,true);\n\n    xhttp.setRequestHeader(\"Content-type\",\"application/json\");\n    xhttp.setRequestHeader(\"x-api-key\",apiKey);\n    xhttp.send(JSON.stringify(data));\n\n    console.log(\"checked\")\n  }\n\n  render() {\n    var checked;\n    if (this.state.completed) {\n      checked = \"list-group-item list-group-item-action active\";\n    }\n    else {\n      checked = \"list-group-item list-group-item-action\";\n    }\n    // console.log(this);\n\n    return (\n      <li className={checked} onClick={this.checkItem} id={this.props.id}>\n        {this.props.text}\n        <div className='removeButton' id={this.props.id}>\n          <i className='fa fa-trash' onClick={this.props.onClick} id={this.props.id}></i>\n        </div>\n      </li>\n    );\n  }\n\n  \n\n}\n\nexport default Todo;\n","import React, { Component } from 'react';\nimport './NewTodo.css';\n\n\nclass NewTodo extends Component {\n\n  render() {\n    return (\n      <div className=\"row\">\n        <input type=\"text\" id=\"add-item\" placeholder=\"Add To-do\" value={this.props.input} onChange={this.props.onChange} onKeyDown={this.props.onKeyDown}></input>\n        <i className=\"far fa-plus-circle fa-clickable\" id=\"add-item-button\" onClick={this.props.onClick}></i>\n      </div>\n    );\n  }\n}\n\nexport default NewTodo;\n","import React, { Component } from 'react';\nimport './App.css';\nimport Todo from './Todo';\nimport NewTodo from './NewTodo';\n\nvar apiKey = \"7bb18b-b475a9-ca1a2f-812109-55f3c2\";\nvar api = \"https://cse204.work/todos\";\n\nclass App extends Component {\n\n  constructor(props) {\n    super(props);\n    this.state = {todos:[],input:''};\n    this.handleKeyDown = this.handleKeyDown.bind(this);\n    this.addItem = this.addItem.bind(this);\n    this.onChange = this.onChange.bind(this);\n    this.removeItem = this.removeItem.bind(this);\n    this.sortByAlpha = this.sortByAlpha.bind(this);\n\n  }\n\n  onChange(event) {\n    this.setState({\n      input: event.target.value\n    });\n\n  }\n\n  componentDidMount() {\n    this.listToDos();\n\n  }\n\n  sortByAlpha() {\n    console.log(\"sorting\");\n    var todos = this.state.todos;\n    console.log(todos[1].text);\n    todos = todos.sort(function(a,b) {\n      return a.text.localeCompare(b.text);\n    });\n    this.setState({todos:todos});\n    console.log(this.state.todos);\n  }\n\n  handleKeyDown(e) {\n    if (e.key === 'Enter') {\n        this.addItem();\n    }\n  }\n\n  addItem() {\n    if (this.state.input == null || this.state.input === '') {\n      alert(\"Please type in a ToDo\");\n    }\n    else {\n      console.log(\"adding item\");\n      // console.log(this.state.todos);\n      var deez = this;\n\n      var data = {\n        text:this.state.input\n      }\n      \n      var xhttp = new XMLHttpRequest();\n      var todos = this.state.todos;\n\n      xhttp.onreadystatechange = function () {\n          if (this.readyState === 4 && this.status === 200) {\n            var todo = JSON.parse(this.responseText);\n            deez.setState({todos:[...todos,todo]});\n            deez.setState({input:''});\n\n          } \n          else if (this.readyState === 4) {\n            console.log(this.responseText);\n\n          }\n      };\n      xhttp.open(\"POST\",api,true);\n\n      xhttp.setRequestHeader(\"Content-type\",\"application/json\");\n      xhttp.setRequestHeader(\"x-api-key\",apiKey)\n      xhttp.send(JSON.stringify(data));\n\n    }\n    \n  }\n\n  \n  removeItem(e) {\n    console.log(\"removing\");\n    e.preventDefault();\n    var deez = this;\n    var id = e.target.id;\n    var xhttp = new XMLHttpRequest();\n\n    xhttp.onreadystatechange = function() {\n        if (this.readyState === 4 && this.status === 200) {\n            const leftovers = deez.state.todos.filter((todo) => {\n              if (todo.id !== id) {\n                return todo;\n              }\n            });\n            deez.setState({todos:leftovers});\n        }\n    }\n\n    xhttp.open(\"DELETE\",api + \"/\" + id, true);\n    xhttp.setRequestHeader(\"x-api-key\",apiKey);\n    xhttp.send();\n\n    console.log(\"deleted\");\n\n  }\n\n  render() {\n    console.log(this.state);\n    return (\n        <div className=\"App\">\n          <div className=\"container-fluid\">\n            <div className=\"row\">\n              <div className=\"title\">To-Do List</div>\n              <div className=\"sort\" onClick={this.sortByAlpha}>Sort by  Alphabetical Order</div>\n            </div>\n            \n          <NewTodo input={this.state.input} onChange={this.onChange} onKeyDown={this.handleKeyDown} onClick={this.addItem}/>\n          \n          <ul className=\"list-group\" id=\"ul\">\n            {this.state.todos.map((todo) =>\n              <Todo key={todo.id} id={todo.id} text={todo.text} completed={todo.completed} created={todo.created_at} onClick={this.removeItem}/>\n            )}\n            \n          </ul>\n          \n        </div>\n        </div>\n    );\n  }\n\n  listToDos() {\n    var xhttp = new XMLHttpRequest()\n    var todos = [];\n\n    xhttp.onreadystatechange = function () {\n      if (this.readyState === 4 && this.status === 200) {\n        todos = JSON.parse(this.responseText);\n        console.log(todos);\n      }\n    };\n\n    xhttp.open(\"GET\", api, false);\n    xhttp.setRequestHeader(\"x-api-key\", apiKey);\n    xhttp.send();\n    this.setState({ todos: todos });\n\n    \n  }\n\n\n  \n}\n\n\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}